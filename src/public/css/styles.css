*, *::before, *::after { box-sizing: border-box; }
html, body {
  margin: 0; padding: 0; height: 100%;
  font-family: "Inter", sans-serif;
  background-color: #f8f9fa;
  position: relative;
}
img, svg, video, canvas { display: block; max-width: 100%; height: auto; }
button, input, select, textarea { font: inherit; color: inherit; }
:root { --header-h: 72px; } 
body.has-fixed-header { padding-top: var(--header-h); }

#background-animation{ position: fixed; inset: 0; pointer-events: none; z-index: 0; }
main, header, footer, .container, .profile-container{ position: relative; z-index: 1; }
#falling-items-svg{ width: 100%; height: 100%; display: block; overflow: visible; }
#background-animation svg use{ will-change: transform; }

.brand-green { color: #2e7d32; }
.brand-dark-green { color: #004d40; }
.bg-brand-green { background-color: #2e7d32; }
.hover\:bg-brand-green-dark:hover { background-color: #1b5e20; }
.ring-brand-green:focus { --tw-ring-color: #2e7d32; }
.border-brand-green:focus { --tw-border-opacity: 1; border-color: #2e7d32; }
.bg-brand-off-white { background-color: #f9f6f1; }
section + section { margin-top: 48px; }

/* Modal da pagina do conteudo educativo */
.modal-sheet { position: fixed; left: 0; right: 0; bottom: 0; top: var(--header-h); z-index: 2000; display: none; }
.modal.is-open,
.modal-sheet.is-open { display: block; }
.modal-sheet .flex.items-start.justify-center.h-full{
  align-items: flex-start;          
  justify-content: center;
  padding: 12px 0;                  
  overflow: auto;                   
  -webkit-overflow-scrolling: touch;
}

.container { width: min(100% - 2*24px, 1200px); margin-inline: auto; }
.section { padding: 40px 0; }
.stack > * + * { margin-top: 16px; }

h1,h2,h3 { line-height: 1.2; margin: 0 0 12px; color: #0B4D33; }
h1 { font-size: clamp(1.875rem, 1.4rem + 1.8vw, 2.25rem); }
h2 { font-size: clamp(1.5rem, 1.2rem + 1.4vw, 1.875rem); }
h3 { font-size: clamp(1.25rem, 1.1rem + 1vw, 1.5rem); }
p { margin: 0 0 12px; color: #5B6470; }

.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:10px;
  padding: 10px 18px; border-radius: 999px; border:1px solid transparent;
  background:#2e7d32; color:#fff; font-weight:700; cursor:pointer;
  transition: transform .12s ease, box-shadow .2s ease, background .2s ease, color .2s ease;
  text-decoration:none; white-space:nowrap;
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 4px 16px rgba(16,24,40,0.06); }
.btn:active{ transform: translateY(0); box-shadow: none; }
.btn-outline{ background: transparent; color: #0B4D33; border-color: #B0DABD; }
.btn-ghost  { background: transparent; color: #0B4D33; border-color: transparent; }
.btn-block{ width: 100%; }

.chips .chip{
  border:1px solid #e5e7eb; background:#fff; border-radius:999px;
  padding:6px 10px; font-weight:700; font-size:.875rem; cursor:pointer; transition:.15s ease;
}
.chips .chip.active{ box-shadow:0 0 0 3px rgba(52,168,83,.15); }

:root{
  --mat-plastico:#2dd4bf; --mat-vidro:#22c55e; --mat-metal:#f59e0b; --mat-papel:#60a5fa;
  --mat-organicos:#a3e635; --mat-eletronicos:#ef4444; --mat-baterias:#ef4444; --mat-oleo:#8b5cf6;
}
.badge{
  display:inline-block; border-radius:999px; padding:2px 8px; font-size:.75rem; font-weight:700;
  color:#111; background:#f3f4f6; border:1px solid #e5e7eb;
}
.badge[data-mat="plastico"]{ border-color:var(--mat-plastico); }
.badge[data-mat="vidro"]{ border-color:var(--mat-vidro); }
.badge[data-mat="metal"]{ border-color:var(--mat-metal); }
.badge[data-mat="papel"]{ border-color:var(--mat-papel); }
.badge[data-mat="organicos"]{ border-color:var(--mat-organicos); }
.badge[data-mat="eletronicos"]{ border-color:var(--mat-eletronicos); }
.badge[data-mat="baterias"]{ border-color:var(--mat-baterias); }
.badge[data-mat="oleo"]{ border-color:var(--mat-oleo); }

.marker-dot{
  width:22px; height:22px; border-radius:50%;
  background:#fff; border:2px solid #111;
  display:flex; align-items:center; justify-content:center;
  box-shadow:0 2px 8px rgba(0,0,0,.15);
}
.marker-dot .inner{ width:10px; height:10px; border-radius:50%; background:#111; }

.dot-open{ width:10px; height:10px; border-radius:50%; background:#16a34a; display:inline-block; }
.dot-closed{ width:10px; height:10px; border-radius:50%; background:#ef4444; display:inline-block; }


.map-root{
  display: grid;
  grid-template-columns: 1fr;       
  grid-template-rows: 1fr;
  height: 100dvh;                    
  background: #fff;
}

#map{
  width: 100%;
  min-height: 320px;
  height: 48vh;                      
  outline: none; border: none;
  border-radius: 1rem;               
}

.map-root #map{
  height: 100%;
  min-height: 0;                    
  border-radius: 0;                  
}

.map-sidebar{
  position: fixed;
  inset: auto 0 0 0;
  max-height: 70dvh;
  transform: translateY(100%);
  transition: transform .28s ease;
  background: #fff;
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 8px 24px rgba(16,24,40,0.08);
  padding: 16px;
  z-index: 30;
}
.map-sidebar.is-open{ transform: translateY(0); }
.map-sidebar .handle{
  width: 44px; height:5px; border-radius: 999px; background: #e5e7eb;
  margin: 6px auto 12px;
}

.map-fab{
  position: fixed; right: 16px; bottom: 16px; z-index: 31;
}

.leaflet-control-zoom a,
.leaflet-control a{
  border-radius: 10px !important;
  box-shadow: 0 4px 16px rgba(16,24,40,0.06) !important;
  border: 1px solid #e5e7eb !important;
  width: 36px; height: 36px; line-height: 34px;
}

.leaflet-popup-content-wrapper{ border-radius: 12px !important; }
.leaflet-popup-content{
  font-family: 'Inter', sans-serif;
  font-size: 0.95rem;
}

.map-filters{ display: grid; gap: 12px; }
.map-filters .btn{ width: 100%; }

.map-results{
  overflow: auto;
  max-height: 42dvh;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  background: #fff;
}

@media (min-width: 900px){
  .map-root{
    grid-template-columns: 340px 1fr;   
  }
  .map-sidebar{
    position: relative; transform: none; inset: auto; max-height: none;
    border-radius: 0; border-right: 1px solid #e5e7eb; box-shadow: none; padding: 16px;
  }
  .map-fab{ display: none; }
  body:not(.map-full) #map{ height: 56vh; }
}

@media (min-width: 1200px){
  .map-root{ grid-template-columns: 380px 1fr; }
  body:not(.map-full) #map{ height: 60vh; }
}

.site-header{
  position: sticky; top: 0; z-index: 50;
  background: rgba(255,255,255,0.9); backdrop-filter: saturate(120%) blur(8px);
  border-bottom: 1px solid #e6e8ec;
}
.nav-inner{ display:flex; align-items:center; justify-content:space-between; min-height: 64px; }
.brand{ display:flex; align-items:center; gap: 12px; font-weight: 900; color: #0B4D33; text-decoration: none; font-size: clamp(1.125rem, 1rem + 0.8vw, 1.25rem); }
.nav{ display:flex; align-items:center; gap: 14px; }
.nav a{ color: #0B4D33; text-decoration:none; font-weight:700; padding:8px 10px; border-radius:999px; }
.nav a:hover{ background: #EBF5EF; }
.menu-toggle{ display: inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:12px; border:1px solid #e6e8ec; background:#fff; }
@media (max-width: 900px){
  .nav{ position: fixed; inset: 64px 0 auto 0; background:#fff; border-top:1px solid #e6e8ec; display:none; flex-direction:column; padding: 16px; }
  .nav.is-open{ display:flex; }
}

.table-responsive{ width:100%; overflow-x:auto; -webkit-overflow-scrolling: touch; border:1px solid #e6e8ec; border-radius: 12px; background:#fff; }
table{ width:100%; border-collapse: collapse; font-size: clamp(.9rem, .85rem + .2vw, .95rem); }
thead th{ background: #EBF5EF; color: #0B4D33; text-align:left; padding: 12px; white-space: nowrap; }
tbody td{ padding: 12px; border-top:1px solid #e6e8ec; color:#1A1F2C; }
tbody tr:hover{ background: #FCFDFD; }

.hero{ padding: 56px 0 48px; background: linear-gradient(180deg, #EBF5EF, transparent 60%); }
.hero .actions{ display:flex; flex-wrap:wrap; gap: 12px; margin-top: 16px; }

.map-cta .btn{ font-weight: 900; }

.page-transition{
  position: fixed; inset: 0; background: #0B4D33; opacity: 0; pointer-events: none; transition: opacity .28s ease; z-index: 9999;
}
.page-transition.is-active{ opacity: .08; }
body.is-exiting .page-transition{ opacity: 1; }
@keyframes slideInUp{ from{ transform: translateY(14px); opacity:0 } to{ transform:none; opacity:1 } }
[data-animate-in]{ animation: slideInUp .32s ease both; }

.muted{ color: #5B6470; }
.center{ text-align: center; }
.mt-4{ margin-top: 18px; }
.mt-5{ margin-top: 24px; }
.pb-0{ padding-bottom: 0 !important; }

.site-footer{ padding: 48px 0; color: #5B6470; }
.site-footer .divider{ height:1px; background:#e6e8ec; margin: 24px 0; }
