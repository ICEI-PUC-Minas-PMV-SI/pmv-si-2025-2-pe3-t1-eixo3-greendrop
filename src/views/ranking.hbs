<!-- Header / Navbar -->
<header id="site-header" class="bg-white shadow-md fixed top-0 left-0 right-0 z-[2000]">
  <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
    <!-- Logo -->
    <div class="flex items-center gap-3">
      <img src="/ico.png" alt="GreenDrop Logo" class="h-10 w-auto" />
      <a href="/" class="text-2xl font-bold brand-dark-green">GreenDrop</a>
    </div>

    <!-- Links desktop -->
    <ul class="hidden md:flex items-center space-x-8">
      <li><a href="/" class="font-medium text-gray-600 hover:brand-green transition-colors">In√≠cio</a></li>
      <li><a href="/#sobre-nos" class="font-medium text-gray-600 hover:brand-green transition-colors">Sobre N√≥s</a></li>
      <li><a href="/#servicos" class="font-medium text-gray-600 hover:brand-green transition-colors">Servi√ßos</a></li>
      <li><a href="/#mapa" class="font-medium text-gray-600 hover:brand-green transition-colors">Mapa</a></li>
      <li><a href="/ods" class="font-medium text-gray-600 hover:brand-green transition-colors">ODS ONU</a></li>
      <li><a href="/ranking" class="font-medium text-green-800 hover:brand-green transition-colors">Ranking</a></li>
      <li><a href="/#contato" class="font-medium text-gray-600 hover:brand-green transition-colors">Contato</a></li>
      <li>
        <a href="/notificacoes" class="relative group" aria-label="Notifica√ß√µes">
          <i data-feather="bell" class="h-6 w-6 text-gray-600 group-hover:text-green-800 transition"></i>
          <span class="absolute bottom-0 right-0 flex items-center justify-center h-5 w-5 bg-red-600 text-white text-xs font-bold rounded-full shadow border border-white select-none translate-x-1/2 translate-y-1/2">3</span>
        </a>
      </li>
    </ul>

    <!-- A√ß√µes -->
    <div class="hidden md:flex items-center space-x-4">
      <a href="/login" class="font-medium text-gray-600 hover:brand-green transition-colors">Entrar</a>
      <a href="/register"
         class="py-2 px-4 rounded-lg font-medium text-white bg-brand-green hover:bg-brand-green-dark transition-transform duration-300 hover:scale-105">
        Cadastre-se
      </a>
    </div>

    <!-- Menu mobile -->
    <button class="md:hidden focus:outline-none" id="mobile-menu-button" aria-label="Abrir menu">
      <i data-feather="menu" class="h-6 w-6 text-gray-600"></i>
    </button>
  </nav>

  <!-- Drawer mobile -->
  <div class="hidden md:hidden border-t border-gray-100" id="mobile-menu">
    <ul class="px-4 py-3 space-y-1">
      <li><a href="/" class="block px-3 py-2 rounded-md font-medium text-gray-700 hover:text-white hover:bg-brand-green">In√≠cio</a></li>
      <li><a href="/#sobre-nos" class="block px-3 py-2 rounded-md font-medium text-gray-700 hover:text-white hover:bg-brand-green">Sobre N√≥s</a></li>
      <li><a href="/#servicos" class="block px-3 py-2 rounded-md font-medium text-gray-700 hover:text-white hover:bg-brand-green">Servi√ßos</a></li>
      <li><a href="/#mapa" class="block px-3 py-2 rounded-md font-medium text-gray-700 hover:text-white hover:bg-brand-green">Mapa</a></li>
      <li><a href="/#contato" class="block px-3 py-2 rounded-md font-medium text-gray-700 hover:text-white hover:bg-brand-green">Contato</a></li>
      <li><a href="/ods" class="block px-3 py-2 rounded-md font-medium text-gray-700 hover:text-white hover:bg-brand-green">ODS ONU</a></li>
      <li><a href="/ranking" class="block px-3 py-2 rounded-md font-medium text-white bg-brand-green">Ranking</a></li>
      <li><a href="/notificacoes" class="block px-3 py-2 rounded-md font-medium text-gray-700 hover:text-white hover:bg-brand-green">Notifica√ß√µes</a></li>
      <li><a href="/login" class="block px-3 py-2 rounded-md font-medium text-gray-700 hover:text-white hover:bg-brand-green">Entrar</a></li>
      <li><a href="/register" class="block px-3 py-2 rounded-md font-medium text-gray-700 hover:text-white hover:bg-brand-green">Cadastre-se</a></li>
    </ul>
  </div>
</header>

<!-- Aviso de Recompensa Resgatada -->
<div id="reward-alert" class="fixed top-24 left-1/2 transform -translate-x-1/2 z-[2001] hidden">
  <div class="bg-green-500 text-white px-6 py-4 rounded-lg shadow-2xl flex items-center gap-3 min-w-[320px] alert-animation">
    <div class="flex-shrink-0">
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>
    </div>
    <div>
      <p class="font-bold text-lg">üéâ Recompensa Resgatada!</p>
      <p class="text-sm opacity-90">Seu pr√™mio foi creditado com sucesso</p>
    </div>
  </div>
</div>

<!-- Aviso de Recompensa Resgatada -->
<div id="reward-alert" class="fixed top-24 left-1/2 transform -translate-x-1/2 z-[2001] hidden">
  <div class="bg-green-500 text-white px-6 py-4 rounded-lg shadow-2xl flex items-center gap-3 min-w-[320px] alert-animation">
    <div class="flex-shrink-0">
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>
    </div>
    <div>
      <p class="font-bold text-lg">üéâ Recompensa Resgatada!</p>
      <p class="text-sm opacity-90">Seu pr√™mio foi creditado com sucesso</p>
    </div>
  </div>
</div>

<main >
  <!-- Hero Section -->
  <section class="bg-brand-off-white  py-12">
    <div class="container mx-auto px-6 text-center">
      <h1 class="text-4xl md:text-5xl font-bold brand-dark-green mb-4">
        Ranking de Reciclagem üèÜ
      </h1>
      <p class="text-lg text-gray-600 max-w-3xl mx-auto">
        Acompanhe as empresas que mais contribuem para um futuro sustent√°vel
      </p>
    </div>
  </section>

  <!-- Sub Navigation -->
  <section class="bg-white border-b shadow-sm sticky top-[72px] z-[1999] mt-0">
    <div class="container mx-auto px-6">
      <nav class="flex items-center justify-center space-x-1 py-3">
        <button class="tab-button active px-6 py-2 rounded-lg font-medium transition-all" data-tab="diretrizes">
          <i data-feather="book-open" class="inline h-4 w-4 mr-2"></i>
          Diretrizes
        </button>
        <button class="tab-button px-6 py-2 rounded-lg font-medium transition-all" data-tab="ranking">
          <i data-feather="trending-up" class="inline h-4 w-4 mr-2"></i>
          Ranking
        </button>
        <button class="tab-button px-6 py-2 rounded-lg font-medium transition-all" data-tab="recompensas">
          <i data-feather="gift" class="inline h-4 w-4 mr-2"></i>
          Recompensas
        </button>
      </nav>
    </div>
  </section>

  <!-- Bot√£o Flutuante para Recompensas -->
  <a href="#" id="floating-rewards-btn" class="fixed top-1/2 right-0 transform -translate-y-1/2 bg-brand-green text-white px-4 py-3 rounded-l-full shadow-lg hover:bg-green-600 transition duration-300 flex items-center gap-2 z-50">
    <i data-feather="gift" class="h-5 w-5"></i> Recompensas
  </a>

  <!-- Content Sections -->
  <div class="container mx-auto px-6 py-12">
    
    <!-- Diretrizes Tab -->
    <div id="diretrizes-content" class="tab-content">
      <div class="max-w-5xl mx-auto">
        <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
          <h2 class="text-3xl font-bold brand-dark-green mb-4">Diretrizes de Reciclagem</h2>
          <p class="text-gray-600 mb-8">
            Confira a pontua√ß√£o de cada material recicl√°vel. Quanto mais voc√™ recicla, mais pontos acumula!
          </p>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {{#each diretrizes}}
            <div class="border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow">
              <div class="flex items-start justify-between mb-3">
                <div>
                  <h3 class="text-xl font-bold text-gray-800">{{this.material}}</h3>
                  <p class="text-sm text-gray-500">{{this.descricao}}</p>
                </div>
                <div class="text-right">
                  <span class="text-2xl font-bold text-green-600">{{this.pontos}}</span>
                  <p class="text-xs text-gray-500">pontos/{{this.unidade}}</p>
                </div>
              </div>
              <div class="flex items-center gap-2 text-sm text-gray-600">
                <i data-feather="info" class="h-4 w-4"></i>
                <span>Por {{this.unidade}}</span>
              </div>
            </div>
            {{/each}}
          </div>
        </div>
      </div>
    </div>

    <!-- Ranking Tab -->
    <div id="ranking-content" class="tab-content hidden">
      <div class="max-w-6xl mx-auto">
        <div class="bg-white rounded-2xl shadow-lg p-8">
          <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
            <div>
              <h2 class="text-3xl font-bold brand-dark-green mb-2">Ranking de Empresas</h2>
              <p class="text-gray-600">Top 25 empresas que mais reciclaram</p>
            </div>
            <div class="flex gap-2">
              <select id="periodo-filter" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ring-brand-green">
                <option value="mes">Este M√™s</option>
                <option value="ano">Este Ano</option>
              </select>
            </div>
          </div>

          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-gray-50 border-b-2 border-gray-200">
                <tr>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-700">Posi√ß√£o</th>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-700">Empresa</th>
                  <th class="px-6 py-4 text-center text-sm font-semibold text-gray-700">Pontos</th>
                  <th class="px-6 py-4 text-center text-sm font-semibold text-gray-700">Material Reciclado (kg)</th>
                </tr>
              </thead>
              <tbody id="ranking-table-body">
                {{#each empresas}}
                <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      {{#if (eq @index 0)}}
                        <span class="text-2xl">ü•á</span>
                      {{else if (eq @index 1)}}
                        <span class="text-2xl">ü•à</span>
                      {{else if (eq @index 2)}}
                        <span class="text-2xl">ü•â</span>
                      {{else}}
                        <span class="text-lg font-semibold text-gray-600">{{@index}}</span>
                      {{/if}}
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="font-medium text-gray-800">{{this.empresa}}</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800">
                      {{this.pontos}} pts
                    </span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-gray-700 font-medium">{{this.materiaisReciclados}} kg</span>
                  </td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Recompensas Tab -->
    <div id="recompensas-content" class="tab-content hidden">
      <div class="max-w-6xl mx-auto">
        <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
          <h2 class="text-3xl font-bold brand-dark-green mb-4">√Årea de Recompensas</h2>
          <p class="text-gray-600 mb-8">
            Troque seus pontos por benef√≠cios exclusivos para sua empresa
          </p>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {{#each premios}}
            <div class="border border-gray-200 rounded-xl p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 flex flex-col">
              <div class="flex items-center justify-center h-16 w-16 rounded-full bg-brand-green text-white mx-auto mb-4">
                <i data-feather="{{this.icone}}" class="h-8 w-8"></i>
              </div>
              <h3 class="text-xl font-bold text-gray-800 mb-2 text-center">{{this.nome}}</h3>
              <p class="text-sm text-gray-600 mb-4 text-center flex-grow">{{this.descricao}}</p>
              <div class="border-t border-gray-200 pt-4 mt-auto">
                <div class="flex items-center justify-between mb-3">
                  <span class="text-sm text-gray-600">Pontos necess√°rios:</span>
                  <span class="text-lg font-bold text-green-600">{{this.pontosNecessarios}}</span>
                </div>
                <button class="w-full py-2 px-4 rounded-lg font-medium text-white bg-brand-green hover:bg-brand-green-dark transition-all duration-300 transform hover:scale-105">
                  Resgatar Pr√™mio
                </button>
              </div>
            </div>
            {{/each}}
          </div>
        </div>
      </div>
    </div>

  </div>
</main>

<!-- Footer -->
<footer id="contato" class="text-gray-600 bg-white border border-t shadow-md">
    <div class="container mx-auto px-6 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <!-- About -->
            <div class="col-span-1 md:col-span-2">
                <h4 class="text-xl font-bold mb-4">GreenDrop</h4>
                <p class="text-gray-400">Promovendo a sustentabilidade atrav√©s da tecnologia, conectando pessoas a
                    solu√ß√µes de reciclagem eficientes.</p>
            </div>
            <!-- Links -->
            <div>
                <h4 class="text-lg font-semibold mb-4">Links R√°pidos</h4>
                <ul class="space-y-2">
                    <li><a href="/#sobre-nos" class="text-gray-400 hover:text-green-800 transition-colors">Sobre</a>
                    </li>
                    <li><a href="/#servicos" class="text-gray-400 hover:text-green-800 transition-colors">Servi√ßos</a>
                    </li>
                    <li><a href="#" class="text-gray-400 hover:text-green-800 transition-colors">FAQ</a></li>
                    <li><a href="#contato" class="text-gray-400 hover:text-green-800 transition-colors">Contato</a>
                    </li>
                </ul>
            </div>
            <!-- Social -->
            <div>
                <h4 class="text-lg font-semibold mb-4">Siga-nos</h4>
                <div class="flex space-x-4">
                    <a href="#" class="text-gray-400 hover:text-green-800"><i data-feather="facebook"></i></a>
                    <a href="#" class="text-gray-400 hover:text-green-800"><i data-feather="twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-green-800"><i data-feather="instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="mt-12 border-t border-gray-700 pt-8 text-center text-gray-500 text-sm">
            &copy; 2025 GreenDrop. Todos os direitos reservados.
        </div>
    </div>
</footer>

<style>
  .brand-dark-green {
    color: #065f46;
  }
  
  .brand-green {
    background-color: #10b981;
  }
  
  .brand-green-dark {
    background-color: #059669;
  }
  
  .brand-off-white {
    background-color: #f9fafb;
  }
  
  .tab-button {
    transition: all 0.3s ease;
  }
  
  .tab-button:hover {
    background-color: #d1fae5;
  }
  
  .tab-button.active {
    background-color: #10b981;
    color: white;
  }

  /* Anima√ß√µes do Aviso de Recompensa */
  @keyframes slideDown {
    from {
      transform: translate(-50%, -100%);
      opacity: 0;
    }
    to {
      transform: translate(-50%, 0);
      opacity: 1;
    }
  }
  
  @keyframes slideUp {
    from {
      transform: translate(-50%, 0);
      opacity: 1;
    }
    to {
      transform: translate(-50%, -100%);
      opacity: 0;
    }
  }
  
  .alert-animation.show {
    animation: slideDown 0.4s ease-out;
  }
  
  .alert-animation.hide {
    animation: slideUp 0.4s ease-in;
  }

  /* Confetti Animation */
  .confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    background-color: #f0f;
    position: absolute;
    animation: confetti-fall 3s linear forwards;
    z-index: 9999;
  }

  @keyframes confetti-fall {
    to {
      transform: translateY(100vh) translateX(var(--drift, 0)) rotate(720deg);
      opacity: 0;
    }
  }
</style>

<script>
  // Tab switching
  document.querySelectorAll('.tab-button').forEach(button => {
    button.addEventListener('click', () => {
      const tabName = button.getAttribute('data-tab');
      
      // Remove classe
      document.querySelectorAll('.tab-button').forEach(btn => {
        btn.classList.remove('active', 'bg-brand-green', 'text-white');
        btn.classList.add('text-gray-600');
      });
      
      // Adiciona classe
      button.classList.add('active', 'bg-brand-green', 'text-white');
      button.classList.remove('text-gray-600');
      
      // Hide 
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.add('hidden');
      });
      
      // Show selected content
      document.getElementById(`${tabName}-content`).classList.remove('hidden');
    });
  });

  // Bot√£o Flutuante
  const floatingBtn = document.getElementById('floating-rewards-btn');
  
  floatingBtn.addEventListener('click', (e) => {
    e.preventDefault();
    document.querySelector('[data-tab="recompensas"]').click();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  // Esconde o bot√£o flutuante quando estiver na aba de recompensas
  document.querySelectorAll('.tab-button').forEach(button => {
    button.addEventListener('click', () => {
      const tabName = button.getAttribute('data-tab');
      
      if (tabName === 'recompensas') {
        floatingBtn.classList.add('hidden');
      } else {
        floatingBtn.classList.remove('hidden');
      }
    });
  });

  // Period filter (placeholder functionality)
  document.getElementById('periodo-filter')?.addEventListener('change', (e) => {
    console.log('Filtro alterado para:', e.target.value);
    // Aqui voc√™ pode adicionar l√≥gica para filtrar os dados
  });

  // Fun√ß√£o para criar confetti
  function createConfetti() {
    const colors = ['#10b981', '#34d399', '#6ee7b7', '#a7f3d0', '#fbbf24', '#f59e0b', '#ef4444', '#ec4899', '#8b5cf6', '#3b82f6'];
    const confettiCount = 500;
    
    for (let i = 0; i < confettiCount; i++) {
      const confetti = document.createElement('div');
      confetti.classList.add('confetti');
      
      // Posi√ß√£o inicial aleat√≥ria no topo da tela
      const startPositionX = Math.random() * window.innerWidth;
      confetti.style.left = startPositionX + 'px';
      confetti.style.top = '-10px';
      
      // Cor aleat√≥ria
      confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      
      // Tamanho aleat√≥rio
      const size = Math.random() * 8 + 5;
      confetti.style.width = size + 'px';
      confetti.style.height = size + 'px';
      
      // Delay aleat√≥rio
      confetti.style.animationDelay = Math.random() * 0.5 + 's';
      
      // Dura√ß√£o aleat√≥ria
      confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
      
      // Movimento lateral aleat√≥rio
      const drift = (Math.random() - 0.5) * 200;
      confetti.style.setProperty('--drift', drift + 'px');
      
      document.body.appendChild(confetti);
      
      // Remove o confetti ap√≥s a anima√ß√£o
      setTimeout(() => {
        confetti.remove();
      }, 4000);
    }
  }

  // Fun√ß√£o para mostrar o aviso de recompensa resgatada
  function showRewardAlert() {
    const alert = document.getElementById('reward-alert');
    
    // Remove classes anteriores
    alert.classList.remove('hidden', 'hide');
    alert.classList.add('show');
    
    // Esconde o alerta ap√≥s 3 segundos
    setTimeout(() => {
      alert.classList.remove('show');
      alert.classList.add('hide');
      
      setTimeout(() => {
        alert.classList.add('hidden');
      }, 400);
    }, 3000);
  }

  // Adiciona evento aos bot√µes de resgatar pr√™mio
  document.addEventListener('click', (e) => {
    if (e.target.closest('button') && e.target.textContent.includes('Resgatar Pr√™mio')) {
      e.preventDefault();
      
      const button = e.target.closest('button');
      const originalText = button.textContent;
      
      // Feedback visual no bot√£o
      button.textContent = '‚úì Resgatado!';
      button.classList.add('opacity-75', 'cursor-not-allowed');
      button.disabled = true;
      
      // Cria o efeito de confetti
      createConfetti();
      
      // Mostra o alerta
      showRewardAlert();
      
      // Restaura o bot√£o ap√≥s 4 segundos
      setTimeout(() => {
        button.textContent = originalText;
        button.classList.remove('opacity-75', 'cursor-not-allowed');
        button.disabled = false;
      }, 4000);
    }
  });
</script>